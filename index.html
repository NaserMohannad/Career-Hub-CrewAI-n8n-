<!doctype html>
<html lang="en" dir="ltr">

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Career Hub</title>

    <!-- Tailwind (Ù„Ø§Ø²Ù… Ù„Ù„Ù†Ù…ÙˆØ°Ø¬) -->
    <script src="https://cdn.tailwindcss.com"></script>

    <!-- React 18 (UMD) + ReactDOM + Babel -->
    <script crossorigin src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

    <style>
      html, body { height: 100%; margin: 0; }
      #root { min-height: 100%; }
      @media (max-width: 1023px){ .features-row{ flex-direction: column !important; } }
    </style>
  </head>
  <body>
    <div id="root"></div> 

    <script type="text/babel">
      const {useState,useEffect,useRef} = React;

      /* ======= Ø±ÙˆØ§Ø¨Ø· Ù‚Ø§Ø¨Ù„Ø© Ù„Ù„ØªØ¹Ø¯ÙŠÙ„ ======= */
      const CHATBOT_WEBHOOK_URL = 'https://syncrew.app.n8n.cloud/webhook/119c5133-8dfb-49d2-951a-dfa2d672e4e1';                 // ÙŠØ±Ø¬Ø¹ {"reply": "..."}
      const SLACK_INVITE_URL  = 'https://join.slack.com/t/syncrewforcareerguide/shared_invite/zt-3h3uov6jn-xdkWsRgWKbtCprA1S8wDhA';
      
      // Ù†Ù…ÙˆØ°Ø¬ Ø§Ù„ØªÙ‚Ø¯ÙŠÙ… ÙŠØ³ØªØ®Ø¯Ù… Apps Script Ø§Ù„Ù…ÙˆØ¬ÙˆØ¯ Ø¯Ø§Ø®Ù„ Ø§Ù„ÙƒÙ…Ø¨ÙˆÙ†Ù†Øª

      /* ======= ØªØ·Ø¨ÙŠÙ‚ Ø±Ø¦ÙŠØ³ÙŠ ======= */
      function App(){
        const [mode,setMode] = useState('home'); // home | job | chat | resume

        // Ù„Ø§ Ù†Ø­ØªÙØ¸ Ø¨Ø£ÙŠ Ø´ÙŠØ¡ Ø¨ÙŠÙ† Ø§Ù„Ø²ÙŠØ§Ø±Ø§Øª
        useEffect(()=>{
          try{
            localStorage.clear();
          
          }catch{}
        },[]);

        return (
          <div style={styles.body}>
            <header style={styles.header}>
              <div style={{...styles.container, ...styles.headerRow}}>
                {mode==='home' ? (
                    <div></div>
                ) : (
                  <button onClick={()=>setMode('home')} style={{...styles.btnHeader, background:'#111', color:'#fff'}}>â† back </button>
                )}
                <h1 style={styles.siteTitle}>Career Hub</h1>
              </div>
            </header>

            <main>
              {mode==='home' && (
                <section style={styles.features}>
                  <div style={styles.container}>
                    <div className="features-row" style={styles.featuresRow}>
                      
                        <FeatureCard title="Job Opportunities" onOpen={()=>setMode('job')} buttonText="Open">
                         <div style={styles.cardContent}>
                         <p style={styles.boxText}>
                         Get daily emails about job & internship opportunities that might suit you
                         </p>
                        </div>
                        </FeatureCard>

                        <FeatureCard title="Career Chat Assistant" onOpen={()=>setMode('chat')} buttonText="Open">
                         <div style={styles.cardContent}>
                            <p style={styles.boxText}>
                            Chat with our assistant and improve your Resume LinkedIn and to prepare for interview
                            </p>
                         </div>
                        </FeatureCard>

                        <FeatureCard title="Skill Builder" buttonText="Join"onOpen={(e) => { e.stopPropagation();window.open(SLACK_INVITE_URL, '_blank', 'noopener,noreferrer');}}>
                             <div style={styles.cardContent}>
                                 <p style={styles.boxText}>
                                    Join our Slack channel and get daily updates about opportunities to shape your skills. You will find jobs, internships, workshops and many more!
                                 </p>
                             </div>
                        </FeatureCard>
                    </div>
                  </div>
                </section>
              )}

              {mode==='job'    && <FullSection><BilingualJobForm/></FullSection>}
              {mode==='chat'   && <FullSection><Chatbot/></FullSection>}
             
              {/* ======= Footer Section ======= */}
                    <footer style={styles.footer}>
                    <div style={styles.footerContainer}>
                        <div style={styles.footerTitle}>Meet the Team</div>
                        <div style={styles.footerRow}>

                        <div style={styles.footerMember}>
                            <span style={styles.footerName}>Naser Diabat</span>
                            <a href="https://www.linkedin.com/in/naser-diabat-b857232b9/" target="_blank" rel="noopener noreferrer" style={styles.footerLink}>
                            LinkedIn
                            </a>
                        </div>

                        <div style={styles.footerMember}>
                            <span style={styles.footerName}>Eyad Naimi</span>
                            <a href="https://www.linkedin.com/in/eyad-naimi-1401ba276/" target="_blank" rel="noopener noreferrer" style={styles.footerLink}>
                            LinkedIn
                            </a>
                        </div>

                        <div style={styles.footerMember}>
                            <span style={styles.footerName}>Motasem Kassasbeh</span>
                            <a href="https://www.linkedin.com/in/motasem-kassasbeh-120561272/" target="_blank" rel="noopener noreferrer" style={styles.footerLink}>
                            LinkedIn
                            </a>
                        </div>

                        </div>
                    </div>
                    </footer>
            </main>

            
          </div>
        );
      }

      /* ======= Ø¹Ù†ØµØ± Ø¨ÙˆÙƒØ³ ÙÙŠ Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ© ======= */
        function FeatureCard({ title, children, onOpen, buttonText='Open' }) {
            return (
                <article
                    onClick={onOpen ? onOpen : undefined}
                    style={styles.cardGlass}
                    onMouseEnter={(e)=>{ e.currentTarget.style.transform='translateY(-2px)'; e.currentTarget.style.boxShadow = styles.shadowXL; }}
                    onMouseLeave={(e)=>{ e.currentTarget.style.transform='translateY(0)'; e.currentTarget.style.boxShadow = styles.shadowLG; }}>                   
                     <div style={styles.cardAccent} aria-hidden="true"></div>

                <h2 style={styles.cardTitle}>{title}</h2>
                <div style={{flexGrow:1}}>
                    {children} 
                    </div>

        <div style={styles.cardFooter}> 
             <button 
                 style={styles.btnPrimary} 
                 onClick={onOpen ? onOpen : undefined} >
                {buttonText} 
             </button>
        </div>
    </article>
);
}


      /* ======= Ø¯ÙŠÙ ÙŠØºØ·ÙŠ Ø§Ù„Ø´Ø§Ø´Ø© ======= */
      function FullSection({children}){
        return (
          <section style={styles.fullSection}>
            <div style={{...styles.container, ...styles.fullWrap}}>
              <div style={styles.fullCard}>
                {children}
              </div>
            </div>
          </section>
        );
      }

      /* ======= Chatbot (Ø¨Ø¯ÙˆÙ† ØªØ®Ø²ÙŠÙ†) ======= */
async function sendToN8n(msg, file, webhookUrl) {
    const WEBHOOK_URL = webhookUrl;
    let response;

    // Ø§Ù„Ø­Ø§Ù„Ø© 1: Ø¥Ø±Ø³Ø§Ù„ Ù†Øµ ÙÙ‚Ø·
     if (msg && !file) {
         const requestBody = JSON.stringify({
         type: "text",
         message: msg
     });

         response = await fetch(WEBHOOK_URL, {
         method: "POST",
         headers: { "Content-Type": "application/json" },
         body: requestBody
     }      );
     }

Â  Â  // Ø§Ù„Ø­Ø§Ù„Ø© 2: Ø¥Ø±Ø³Ø§Ù„ Ù…Ù„Ù ÙÙ‚Ø· (multipart/form-data)
Â  Â  else if (file && !msg) {
Â  Â  Â  Â  const formData = new FormData();
Â  Â  Â  Â  // Ù†Ø±Ø³Ù„ "type" ÙƒØ£ÙˆÙ„ Ø­Ù‚Ù„ Ù„ÙŠØªÙ…ÙƒÙ† n8n Ù…Ù† ØªØ­Ø¯ÙŠØ¯ Ù†ÙˆØ¹ Ø§Ù„Ø·Ù„Ø¨
Â  Â  Â  Â  formData.append("type", "file"); 
Â  Â  Â  Â  formData.append("file", file, file.name); // Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ù…Ù„Ù Ù†ÙØ³Ù‡

Â  Â  Â  Â  response = await fetch(WEBHOOK_URL, {
Â  Â  Â  Â  Â  Â  method: "POST",
Â  Â  Â  Â  Â  Â  // Ø¹Ù†Ø¯ Ø§Ø³ØªØ®Ø¯Ø§Ù… FormDataØŒ Ø§Ù„Ù…ØªØµÙØ­ ÙŠØ¶ÙŠÙ Header ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹ (Ù„Ø§ Ù†Ø­ØªØ§Ø¬ Ù„Ù€ Content-Type)
Â  Â  Â  Â  Â  Â  body: formData
Â  Â  Â  Â  });
Â  Â  }

Â  Â  // Ø§Ù„Ø­Ø§Ù„Ø© 3: Ù„Ø§ Ù†Øµ ÙˆÙ„Ø§ Ù…Ù„ÙØŒ Ø£Ùˆ ÙƒÙ„Ø§Ù‡Ù…Ø§
Â  Â  else {
Â  Â  Â  Â  return null; 
Â  Â  }

Â  Â  return response;}
      function Chatbot() {
  const STORAGE_KEY = 'chatbotMessages';

  // ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø±Ø³Ø§Ø¦Ù„ Ù…Ù† SessionStorage Ø£Ùˆ Ø¨Ø¯Ø¡ Ø±Ø³Ø§Ù„Ø© ØªØ±Ø­ÙŠØ¨
  const initialMessages = () => {
    try {
      const saved = sessionStorage.getItem(STORAGE_KEY);
      if (saved) return JSON.parse(saved);
    } catch (e) {
      console.error('Could not load messages from session:', e);
    }
    return [{ text: 'Hello! How can I help you today?', type: 'bot' }];
  };

  const [messages, setMessages] = React.useState(initialMessages);
  const [input, setInput] = React.useState('');
  const [loading, setLoading] = React.useState(false);

  // Ø¯Ø¹Ù… Ø±ÙØ¹ Ø§Ù„Ù…Ù„ÙØ§Øª (PDF ÙÙ‚Ø·)
  const [file, setFile] = React.useState(null);
  const fileInputRef = React.useRef(null);

  const endRef = React.useRef(null);
  const didMountRef = React.useRef(false);

  // Ø­ÙØ¸ Ø§Ù„Ø±Ø³Ø§Ø¦Ù„ ÙÙŠ sessionStorage + Ù…Ù†Ø¹ Ø§Ù„ØªÙ…Ø±ÙŠØ± Ù„Ø£Ø³ÙÙ„ Ø¹Ù†Ø¯ Ø£ÙˆÙ„ Ø±Ù†Ø¯Ø±
  React.useEffect(() => {
    try {
      sessionStorage.setItem(STORAGE_KEY, JSON.stringify(messages));
    } catch (e) {
      console.error('Could not save messages to session:', e);
    }
    if (!didMountRef.current) {
      didMountRef.current = true;
      return; // Ù„Ø§ ØªØ¹Ù…Ù„ scroll ÙÙŠ Ø£ÙˆÙ„ ÙØªØ­
    }
    endRef.current?.scrollIntoView({ behavior: 'smooth', block: 'nearest' });
  }, [messages]);

  // Ù…Ø³Ø­ SessionStorage Ø¹Ù†Ø¯ Ù…ØºØ§Ø¯Ø±Ø©/Ø¥Ø¹Ø§Ø¯Ø© ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØµÙØ­Ø©
  React.useEffect(() => {
    const handleUnload = () => sessionStorage.removeItem(STORAGE_KEY);
    window.addEventListener('unload', handleUnload);
    return () => window.removeEventListener('unload', handleUnload);
  }, []);

  // ØªØºÙŠÙŠØ±/Ø§Ø®ØªÙŠØ§Ø± Ø§Ù„Ù…Ù„Ù
  const handleFileChange = (e) => {
    const selected = e.target.files && e.target.files[0];
    if (!selected) {
      setFile(null);
      return;
    }
    // Ù†ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„Ù†ÙˆØ¹ (PDF ÙÙ‚Ø·)
    if (selected.type !== 'application/pdf' && !selected.name.toLowerCase().endsWith('.pdf')) {
      alert('Only PDF files are allowed.');
      e.target.value = null;
      setFile(null);
      return;
    }
    setFile(selected);
    setInput(''); // Ù„Ø§ Ù†Ø³Ù…Ø­ Ø¨Ù†Øµ Ù…Ø¹ Ù…Ù„Ù Ø¨Ù†ÙØ³ Ø§Ù„ÙˆÙ‚Øª
  };

  // Ø¥Ø±Ø³Ø§Ù„ Ø±Ø³Ø§Ù„Ø©/Ù…Ù„Ù
 const sendMessage = async () => {
Â  Â  Â  Â  const msg = input.trim();

Â  Â  Â  Â  // Ù‚Ø§Ø¹Ø¯Ø©: Ø¥Ù…Ù‘Ø§ Ù†Øµ Ø£Ùˆ Ù…Ù„Ù (Ù„ÙŠØ³ ÙƒÙ„Ø§Ù‡Ù…Ø§/ÙˆÙ„Ø§ Ø£ÙŠÙ‡Ù…Ø§) + Ø§Ù„Ù…Ù†Ø¹ Ø£Ø«Ù†Ø§Ø¡ Ø§Ù„ØªØ­Ù…ÙŠÙ„
Â  Â  Â  Â  if (loading) return;
Â  Â  Â  Â  if ((!msg && !file) || (msg && file)) return;

Â  Â  Â  Â  let userMessage;

Â  Â  Â  Â  if (file) {
Â  Â  Â  Â  Â  Â  userMessage = `[File Uploaded: ${file.name}]`;
Â  Â  Â  Â  } else {
Â  Â  Â  Â  Â  Â  userMessage = msg;
Â  Â  Â  Â  }
    // Ø­Ø¯Ù‘Ø« Ø§Ù„ÙˆØ§Ø¬Ù‡Ø© Ù…Ø¨Ø§Ø´Ø±Ø©
    setMessages((p) => [...p, { text: userMessage, type: 'user' }]);
Â  Â  Â  Â  setInput('');
Â  Â  Â  Â  setFile(null);
Â  Â  Â  Â  if (fileInputRef.current) fileInputRef.current.value = null;

Â  Â  Â  Â  setLoading(true);
Â  Â  Â  Â  try {
Â  Â  Â  Â  Â  Â  let reply;

Â  Â  Â  Â  Â  Â  // 1. Ø§Ø³ØªØ®Ø¯Ù… Ø¯Ø§Ù„Ø© Ø§Ù„Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø©
Â  Â  Â  Â  Â  Â  const response = await sendToN8n(msg, file, CHATBOT_WEBHOOK_URL); 
            
Â  Â  Â  Â  Â  Â  if (!response) throw new Error('No action taken'); // ÙÙŠ Ø­Ø§Ù„ ÙƒØ§Ù†Øª Ø§Ù„Ø­Ø§Ù„Ø© 3 (Ù„Ø§ ÙŠÙˆØ¬Ø¯ Ù…Ù„Ù ÙˆÙ„Ø§ Ù†Øµ)

            // 2. Ù…Ø¹Ø§Ù„Ø¬Ø© Ø§Ù„Ø±Ø¯ ÙƒÙ…Ø§ ÙƒØ§Ù† Ø³Ø§Ø¨Ù‚Ø§Ù‹
Â  Â  Â  Â  Â  Â  if (!response.ok) throw new Error('HTTP ' + response.status);
Â  Â  Â  Â  Â  Â  const data = await response.json();
Â  Â  Â  Â  Â  Â  reply = data.output || 'No reply received.';
            
Â  Â  Â  Â  Â  Â  setMessages((p) => [...p, { text: reply, type: 'bot' }]);

Â  Â  Â  Â  } catch (err) {
Â  Â  Â  Â  Â  Â  // ... (Ù…Ø¹Ø§Ù„Ø¬Ø© Ø§Ù„Ø®Ø·Ø£)
Â  Â  Â  Â  Â  Â  setMessages((p) => [
Â  Â  Â  Â  Â  Â  Â  Â  ...p,
Â  Â  Â  Â  Â  Â  Â  Â  {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  text: 'Failed to send message/upload file.',
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  type: 'error'
Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  ]);
Â  Â  Â  Â  Â  Â  setTimeout(() => setMessages((p) => p.filter((m) => m.type !== 'error')), 4000);
Â  Â  Â  Â  } finally {
Â  Â  Â  Â  Â  Â  setLoading(false);
Â  Â  Â  Â  }
Â  Â  };
  const onKeyDown = (e) => {
    if (e.key === 'Enter' && !e.shiftKey) {
      e.preventDefault();
      sendMessage();
    }
  };

  // ====== Ø§Ù„ÙˆØ§Ø¬Ù‡Ø© (Ù…ØªÙˆØ§ÙÙ‚Ø© Ù…Ø¹ Ø«ÙŠÙ…Ùƒ: Ø±Ù…Ø§Ø¯ÙŠ/Ø£Ø­Ù…Ø±/Ø£Ø¨ÙŠØ¶) ======
  return (
    <div style={{ display: 'flex', flexDirection: 'column', height: '100%' }}>
      <h2 style={{ ...styles.boxTitle, color: '#E63946', marginBottom: 12 }}>Chat Assistant</h2>

      {/* ØµÙ†Ø¯ÙˆÙ‚ Ø§Ù„Ø±Ø³Ø§Ø¦Ù„ */}
      <div style={styles.chatMessagesFull}>
        {messages.map((m, i) => (
          <div
            key={i}
            style={{
              ...styles.chatMessage,
              ...(m.type === 'user'
                ? styles.chatMessageUser
                : m.type === 'error'
                ? styles.chatMessageError
                : styles.chatMessageBot)
            }}
          >
                        <div
                          dangerouslySetInnerHTML={{
                            __html: m.text
                              .replace(/\n/g, '<br>') // ÙŠØ­Ø§ÙØ¸ Ø¹Ù„Ù‰ Ø§Ù„Ø£Ø³Ø·Ø±
                              .replace(/\*\*(.*?)\*\*/g, '<strong>$1</strong>') // **bold**
                              .replace(/\*(.*?)\*/g, '<em>$1</em>') // *italic*
                              .replace(/(https?:\/\/[^\s]+)/g, '<a href="$1" target="_blank" rel="noopener noreferrer" style="color:#5B8DEF; text-decoration:underline;">$1</a>') // Ø±ÙˆØ§Ø¨Ø·
}}/>
          </div>
        ))}
        <div ref={endRef} />
      </div>

      {/* Ø´Ø±ÙŠØ· Ø§Ù„Ø¥Ø¯Ø®Ø§Ù„: Ø²Ø± Ø±ÙØ¹ PDF + Ø¥Ø¯Ø®Ø§Ù„ Ù†Øµ + Ø²Ø± Ø¥Ø±Ø³Ø§Ù„ */}
      <div style={styles.chatInputWrapper}>
        {/* Ø­Ù‚Ù„ Ø¥Ø¯Ø®Ø§Ù„ Ø§Ù„Ù…Ù„ÙØ§Øª Ø§Ù„Ù…Ø®ÙÙŠ (PDF ÙÙ‚Ø·) */}
        <input
          type="file"
          ref={fileInputRef}
          accept=".pdf,application/pdf"
          onChange={handleFileChange}
          style={{ display: 'none' }}
        />

        {/* Ø²Ø± ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ù…Ù„Ù */}
        <button
          type="button"
          style={{
            ...styles.btnSend,
            marginRight: 8,
            width: 40,
            height: 40,
            backgroundImage: 'none',
            background: file ? (styles.colors?.primaryDark || '#B71C1C') : (styles.colors?.bg3 || '#3A3A3A'),
            transition: 'background-color 0.2s'
          }}
          onClick={() => fileInputRef.current?.click()}
          disabled={loading || input.length > 0} // Ù„Ø§ ÙŠØ³Ù…Ø­ Ø¨Ø§Ù„Ù…Ù„Ù Ù…Ø¹ Ù†Øµ Ø¨Ù†ÙØ³ Ø§Ù„ÙˆÙ‚Øª
          title="Upload PDF"
        >
          <span style={{ fontSize: '1.2rem', color: file ? '#fff' : '#aaa' }}>ğŸ“</span>
        </button>

        {/* Ø¥Ø¯Ø®Ø§Ù„ Ù†Øµ (ÙŠØªØ¹Ø·Ù„ Ø¹Ù†Ø¯ ÙˆØ¬ÙˆØ¯ Ù…Ù„Ù) */}
        <textarea
          style={styles.chatInput}
          placeholder={file ? `File ready: ${file.name}` : 'Type your message...'}
          value={input}
          onChange={(e) => setInput(e.target.value)}
          onKeyDown={onKeyDown}
          rows={2}
          disabled={loading || file !== null}
        />

        {/* Ø²Ø± Ø§Ù„Ø¥Ø±Ø³Ø§Ù„ */}
        <button
          type="button"
          style={{
            ...styles.btnSend,
            opacity: loading ? 0.5 : 1,
            cursor: loading ? 'not-allowed' : 'pointer'
          }}
          onClick={sendMessage}
          disabled={loading || (input.trim() === '' && file === null)}
          title="Send"
        >
          {loading ? (
            <span style={styles.loadingDots}>
              <span style={styles.loadingDot}></span>
              <span style={{ ...styles.loadingDot, animationDelay: '-0.16s' }}></span>
              <span style={{ ...styles.loadingDot, animationDelay: '0s' }}></span>
            </span>
          ) : (
            <span style={styles.sendIcon}>â¤</span>
          )}
        </button>
      </div>

      {/* Ø¹Ø±Ø¶ Ø§Ø³Ù… Ø§Ù„Ù…Ù„Ù Ø§Ù„Ù…Ø­Ø¯Ø¯ Ù…Ø¹ Ø²Ø± Ø¥Ø²Ø§Ù„Ø© (Ø§Ø®ØªÙŠØ§Ø±ÙŠ) */}
      {file && (
        <div style={{ marginTop: 8, display: 'flex', alignItems: 'center', gap: 8 }}>
          <div
            style={{
              background: '#2C2C2C',
              border: '1px solid rgba(255,255,255,0.1)',
              borderRadius: 10,
              padding: '6px 10px',
              fontSize: 13,
              color: '#F5F5F5'
            }}
          >
            Selected: {file.name}
          </div>
          <button
            type="button"
            onClick={() => {
              setFile(null);
              if (fileInputRef.current) fileInputRef.current.value = null;
            }}
            style={{
              border: 'none',
              background: 'transparent',
              color: '#E63946',
              fontWeight: 700,
              cursor: 'pointer'
            }}
            title="Remove"
          >
            Ã—
          </button>
        </div>
      )}
    </div>
  );
}



      /* ======= Bilingual Job Form (Ù…Ø¶Ù…Ù‘Ù† ÙƒÙ…Ø§ Ø£Ø±Ø³Ù„Øª) ======= */
            // ====== Ø¯Ø§Ù„Ø© BilingualJobForm Ø§Ù„Ù…Ø¹Ø¯Ù‘Ù„Ø© (Session Storage + Ø«ÙŠÙ… Ù…ØªÙ†Ø§Ø³Ù‚) ======
            function BilingualJobForm() {
            const { useState, useEffect } = React;
            const STORAGE_KEY = 'jobFormData'; // Ù…ÙØªØ§Ø­ Ø§Ù„ØªØ®Ø²ÙŠÙ† Ø§Ù„Ù…Ø¤Ù‚Øª

            // Ø¬Ù„Ø¨ Ø¨ÙŠØ§Ù†Ø§Øª Ø£ÙˆÙ„ÙŠØ© Ù…Ù† Session Storage (Ø¥Ù† ÙˆØ¬Ø¯Øª)
            const getInitialData = () => {
                try {
                const saved = sessionStorage.getItem(STORAGE_KEY);
                if (saved) return JSON.parse(saved);
                } catch (e) {
                console.error("Could not load job form data:", e);
                }
                return { name:'', jobPosition:'', interests:'', hardSkills:'', remoteWork:'', email:'' };
            };

            const [formData, setFormData] = useState(getInitialData);
            const [isSubmitting, setIsSubmitting] = useState(false);
            const [submitStatus, setSubmitStatus] = useState(null);

            // Ø­ÙØ¸ Ø£ÙŠ ØªØºÙŠÙŠØ± Ø¹Ù„Ù‰ Ø§Ù„ÙÙˆØ±Ù… Ø¯Ø§Ø®Ù„ Session Storage
            useEffect(() => {
                try {
                sessionStorage.setItem(STORAGE_KEY, JSON.stringify(formData));
                } catch (e) {
                console.error("Could not save job form data:", e);
                }
            }, [formData]);

            // Ù…Ø³Ø­ Session Storage Ø¹Ù†Ø¯ Ø§Ù„Ø®Ø±ÙˆØ¬/Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„ØªØ­Ù…ÙŠÙ„
            useEffect(() => {
                const handleUnload = () => sessionStorage.removeItem(STORAGE_KEY);
                window.addEventListener('unload', handleUnload);
                return () => window.removeEventListener('unload', handleUnload);
            }, []);

            // ÙØ±Ø¶ Ø§Ù„Ù„ØºØ© Ø§Ù„Ø¥Ù†Ø¬Ù„ÙŠØ²ÙŠØ© ÙˆØ§Ù„Ù€ LTR Ù…Ø±Ù‘Ø© ÙˆØ§Ø­Ø¯Ø©
            useEffect(() => {
                document.documentElement.setAttribute('dir', 'ltr');
                document.documentElement.lang = 'en';
            }, []);

            const t = {
                title: 'Job Application Form',
                subtitle: 'Please fill out the form below with the required information',
                name: 'Name',
                namePlaceholder: 'Enter your full name',
                jobPosition: 'Please specify the job position or main field of work that interests you',
                jobPositionPlaceholder: 'Example: Software Developer, Graphic Designer',
                interests: 'Please specify your interests close to the job objective (Please mention at least 5 interests)',
                interestsPlaceholder: 'Example: Programming, Design, Project Management, Digital Marketing, Data Analysis',
                hardSkills: 'Please specify and write the most important hard skills that make you qualified for this position (Please mention at least 5 skills)',
                hardSkillsPlaceholder: 'Example: JavaScript, React, Python, SQL, Adobe Photoshop',
                remoteWork: 'Do you mind working remotely?',
                remoteYes: 'I mind',
                remoteNo: "I don't mind",
                email: 'Please enter the email address we will contact you through',
                emailPlaceholder: 'example@email.com',
                submit: 'Submit Application',
                sending: 'Sending...',
                successMessage: 'âœ“ Your application has been sent successfully!',
                errorMessage: 'âœ— An error occurred. Please try again.',
                required: '*'
            };

            const handleChange = (e) => {
                const { name, value } = e.target;
                // ØªÙ†Ø¸ÙŠÙ Ø¨Ø³ÙŠØ·
                const v = typeof value === 'string' ? value : '';
                setFormData(prev => ({ ...prev, [name]: v }));
            };

            const handleSubmit = async (e) => {
                e.preventDefault();
                if (isSubmitting) return; // Ù…Ù†Ø¹ Ø¥Ø±Ø³Ø§Ù„ Ù…Ø²Ø¯ÙˆØ¬
                setIsSubmitting(true);
                setSubmitStatus(null);

                try {
                const payload = {
                    ...formData,
                    name: formData.name.trim(),
                    jobPosition: formData.jobPosition.trim(),
                    interests: formData.interests.trim(),
                    hardSkills: formData.hardSkills.trim(),
                    email: formData.email.trim(),
                    timestamp: new Date().toISOString(),
                    language: 'en'
                };

                // **Ø§Ø³ØªØ¨Ø¯Ù„ Ù‡Ø°Ø§ Ø¨Ø§Ù„Ø±Ø§Ø¨Ø· Ø§Ù„Ø®Ø§Øµ ÙÙŠÙƒ (Apps Script)**
                const GOOGLE_SCRIPT_URL = 'https://script.google.com/macros/s/AKfycbziYDwfxpiKEq5Wir8tvmt-jhKN-uAnn-k6WMF2ItSJmUFlqs8ueaS7cM2L6FFD4fdA/exec';

                await fetch(GOOGLE_SCRIPT_URL, {
                    method: 'POST',
                    mode: 'no-cors',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify(payload)
                });

                setSubmitStatus('success');

                // Ø¥Ø¹Ø§Ø¯Ø© Ø¶Ø¨Ø· Ø§Ù„Ù†Ù…ÙˆØ°Ø¬ + ØªÙ†Ø¸ÙŠÙ Ø§Ù„ØªØ®Ø²ÙŠÙ†
                const empty = { name:'', jobPosition:'', interests:'', hardSkills:'', remoteWork:'', email:'' };
                setFormData(empty);
                sessionStorage.setItem(STORAGE_KEY, JSON.stringify(empty));
                } catch (err) {
                console.error('Submission error:', err);
                setSubmitStatus('error');
                } finally {
                setIsSubmitting(false);
                }
            };

            // ÙˆØ§Ø¬Ù‡Ø© Ù…ØªÙ†Ø§Ø³Ù‚Ø© Ù…Ø¹ Ø§Ù„Ø«ÙŠÙ… (Ø±Ù…Ø§Ø¯ÙŠ Ø¯Ø§ÙƒÙ† + Ø£Ø¨ÙŠØ¶ + Ø£Ø­Ù…Ø±)
            return (
                <div className="min-h-[60vh] py-6 px-4 sm:px-6 lg:px-8">
                <div className="max-w-3xl mx-auto text-gray-100">
                    {/* Header */}
                    <div className="mb-8 text-left">
                    <h2 className="text-4xl font-extrabold bg-gradient-to-r from-red-500 to-red-700 bg-clip-text text-transparent mb-3">
                        {t.title}
                    </h2>
                    <p className="text-gray-300">{t.subtitle}</p>
                    </div>

                    {/* Form */}
                    <form className="space-y-6" onSubmit={handleSubmit}>
                    {/* Name */}
                    <div>
                        <label htmlFor="name" className="block text-sm font-medium text-gray-200 mb-2">
                        {t.name} <span className="text-red-500">{t.required}</span>
                        </label>
                        <input
                        type="text" id="name" name="name" value={formData.name} onChange={handleChange} required
                        className="w-full px-4 py-3 rounded-xl border border-white/10 bg-neutral-800/70 text-gray-100 placeholder-gray-400 focus:ring-2 focus:ring-red-500 focus:border-transparent transition-all outline-none"
                        placeholder={t.namePlaceholder}
                        />
                    </div>

                    {/* Job Position */}
                    <div>
                        <label htmlFor="jobPosition" className="block text-sm font-medium text-gray-200 mb-2">
                        {t.jobPosition} <span className="text-red-500">{t.required}</span>
                        </label>
                        <input
                        type="text" id="jobPosition" name="jobPosition" value={formData.jobPosition} onChange={handleChange} required
                        className="w-full px-4 py-3 rounded-xl border border-white/10 bg-neutral-800/70 text-gray-100 placeholder-gray-400 focus:ring-2 focus:ring-red-500 focus:border-transparent transition-all outline-none"
                        placeholder={t.jobPositionPlaceholder}
                        />
                    </div>

                    {/* Interests */}
                    <div>
                        <label htmlFor="interests" className="block text-sm font-medium text-gray-200 mb-2">
                        {t.interests} <span className="text-red-500">{t.required}</span>
                        </label>
                        <textarea
                        id="interests" name="interests" value={formData.interests} onChange={handleChange} required rows="4"
                        className="w-full px-4 py-3 rounded-xl border border-white/10 bg-neutral-800/70 text-gray-100 placeholder-gray-400 focus:ring-2 focus:ring-red-500 focus:border-transparent transition-all outline-none resize-none"
                        placeholder={t.interestsPlaceholder}
                        />
                    </div>

                    {/* Hard Skills */}
                    <div>
                        <label htmlFor="hardSkills" className="block text-sm font-medium text-gray-200 mb-2">
                        {t.hardSkills} <span className="text-red-500">{t.required}</span>
                        </label>
                        <textarea
                        id="hardSkills" name="hardSkills" value={formData.hardSkills} onChange={handleChange} required rows="4"
                        className="w-full px-4 py-3 rounded-xl border border-white/10 bg-neutral-800/70 text-gray-100 placeholder-gray-400 focus:ring-2 focus:ring-red-500 focus:border-transparent transition-all outline-none resize-none"
                        placeholder={t.hardSkillsPlaceholder}
                        />
                    </div>

                    {/* Remote Work */}
                    <div>
                        <label className="block text-sm font-medium text-gray-200 mb-3">
                        {t.remoteWork} <span className="text-red-500">{t.required}</span>
                        </label>
                        <div className="flex gap-4">
                        <label className="flex items-center gap-2 cursor-pointer">
                            <input
                            type="radio" name="remoteWork" value="mind" checked={formData.remoteWork==='mind'}
                            onChange={handleChange} required
                            className="w-5 h-5 text-red-500 focus:ring-2 focus:ring-red-500"
                            />
                            <span className="text-gray-200">{t.remoteYes}</span>
                        </label>
                        <label className="flex items-center gap-2 cursor-pointer">
                            <input
                            type="radio" name="remoteWork" value="no_mind" checked={formData.remoteWork==='no_mind'}
                            onChange={handleChange} required
                            className="w-5 h-5 text-red-500 focus:ring-2 focus:ring-red-500"
                            />
                            <span className="text-gray-200">{t.remoteNo}</span>
                        </label>
                        </div>
                    </div>

                    {/* Email */}
                    <div>
                        <label htmlFor="email" className="block text-sm font-medium text-gray-200 mb-2">
                        {t.email} <span className="text-red-500">{t.required}</span>
                        </label>
                        <input
                        type="email" id="email" name="email" value={formData.email} onChange={handleChange} required
                        className="w-full px-4 py-3 rounded-xl border border-white/10 bg-neutral-800/70 text-gray-100 placeholder-gray-400 focus:ring-2 focus:ring-red-500 focus:border-transparent transition-all outline-none"
                        placeholder={t.emailPlaceholder}
                        />
                    </div>

                    {/* Submit Button */}
                    <button
                        type="submit" disabled={isSubmitting}
                        className="w-full bg-gradient-to-r from-red-600 to-red-800 text-white font-semibold py-4 rounded-xl shadow-lg hover:shadow-xl transform hover:-translate-y-0.5 transition-all disabled:opacity-50"
                    >
                        {isSubmitting ? (
                        <span className="flex items-center justify-center">
                            <svg className="animate-spin -ml-1 mr-3 h-5 w-5 text-white" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24">
                            <circle className="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" strokeWidth="4"></circle>
                            <path className="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path>
                            </svg>
                            {t.sending}
                        </span>
                        ) : t.submit}
                    </button>

                    {/* Status */}
                    {submitStatus==='success' && (
                        <div className="p-4 rounded-xl bg-emerald-600/15 border border-emerald-500/30">
                        <p className="text-emerald-300 text-center font-medium">{t.successMessage}</p>
                        </div>
                    )}
                    {submitStatus==='error' && (
                        <div className="p-4 rounded-xl bg-red-600/15 border border-red-500/30">
                        <p className="text-red-300 text-center font-medium">{t.errorMessage}</p>
                        </div>
                    )}
                    </form>
                </div>
                </div>
            );
            }



      /* ======= Ø³ØªØ§ÙŠÙ„Ø§Øª Ø¹Ø§Ù…Ø© (Ø£Ù„ÙˆØ§Ù† Ø¬Ø¯ÙŠØ¯Ø© Ù…Ø±ÙŠØ­Ø©) ======= */
       const styles = {
                /* Ø£Ù„ÙˆØ§Ù† Ø¬Ø¯ÙŠØ¯Ø© (Ù‚Ø±ÙŠØ¨Ø© Ù…Ù† ØªØµÙ…ÙŠÙ… Ø§Ù„ÙÙˆØ±Ù…) */
                colors: {
                    bg1: '#1F1F1F',      // Ø§Ù„Ø®Ù„ÙÙŠØ© Ø§Ù„Ø¹Ø§Ù…Ø©
                    bg2: '#2C2C2C',      // Ø®Ù„ÙÙŠØ© Ø§Ù„Ø¨ÙˆÙƒØ³Ø§Øª
                    bg3: '#3A3A3A',      // Ù„ÙˆÙ† Ù…Ø³Ø§Ø¹Ø¯
                    text: '#F5F5F5',     // Ø§Ù„Ù†ØµÙˆØµ
                    primary: '#E63946',  // Ø§Ù„Ø£Ø­Ù…Ø± Ø§Ù„Ø£Ø³Ø§Ø³ÙŠ
                    primaryDark: '#B71C1C', // Ø§Ù„Ø£Ø­Ù…Ø± Ø§Ù„ØºØ§Ù…Ù‚
                    glassBorder: 'rgba(255,255,255,0.1)',
                    glassBG: 'rgba(44,44,44,0.9)',
                },

                shadowLG: '0 10px 25px rgba(0,0,0,0.25)',
                shadowXL: '0 20px 45px rgba(0,0,0,0.4)',

                body: {
                    fontFamily: '-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif',
                    background: 'linear-gradient(135deg, #1F1F1F 0%, #2C2C2C 100%)',
                    minHeight: '100vh',
                    margin: 0,
                    paddingBottom: '80px',
                    color: '#F5F5F5',
                    lineHeight: 1.6,
                },


                /* Ø­Ø§ÙˆÙŠØ© + Ù‡ÙŠØ¯Ø± Ù…Ù…Ø§Ø«Ù„ Ù„ØªØ±Ø§Øµ Ø§Ù„ÙÙˆØ±Ù… */
                container: { maxWidth: '1200px', margin: '0 auto', padding: '0 20px' },
                header: { padding: '20px 0' },
                headerRow: { display: 'flex', alignItems: 'center', justifyContent: 'flex-start', gap: '16px' },

                 siteTitle: {
                    fontSize: '1.9rem',
                    fontWeight: 800,
                    margin: 0,
                    color: '#E63946',
                },

                btnHeader: {
                    border: 'none',
                    padding: '10px 18px',
                    borderRadius: '12px',
                    fontWeight: 700,
                    cursor: 'pointer',
                    background: '#E63946',
                    color: '#fff',
                    boxShadow: '0 4px 16px rgba(230,57,70,0.3)',
                    transition: 'transform 160ms ease',
                },

                features: { padding: '40px 0' },
                featuresRow: { display: 'flex', gap: '24px', alignItems: 'stretch', justifyContent: 'center' },

                cardGlass: {
                     flex: 1,
                     position: 'relative',
                     borderRadius: '20px',
                     background: 'rgba(44,44,44,0.95)',
                     border: '1px solid rgba(255,255,255,0.1)',
                     backdropFilter: 'blur(10px)',
                     WebkitBackdropFilter: 'blur(10px)',
                     padding: '28px',
                     minHeight: '420px',
                     cursor: 'pointer',
                     boxShadow: '0 10px 25px rgba(0,0,0,0.25)',
                     transition: 'box-shadow 180ms ease, transform 180ms ease',
                     display: 'flex', // ØªØ£ÙƒØ¯ Ù…Ù† ÙˆØ¬ÙˆØ¯ Ù‡Ø°Ù‡ Ø§Ù„Ø®Ø§ØµÙŠØ©
                     flexDirection: 'column', // Ù„Ø¬Ø¹Ù„ Ø§Ù„Ø¹Ù†Ø§ØµØ± ØªØªØ±Ø§Øµ Ø¹Ù…ÙˆØ¯ÙŠØ§Ù‹
                     justifyContent: 'space-between',
                     overflow: 'hidden',
                         },

                cardAccent: {
                    position: 'absolute',
                    top: 0,
                    left: 0,
                    right: 0,
                    height: '4px',
                    backgroundImage: 'linear-gradient(90deg, #E63946, #B71C1C)',
                },

                cardTitle: {
                    fontSize: '1.5rem',
                    fontWeight: 800,
                    marginTop: '8px',
                    marginBottom: '12px',
                    color: '#E63946',
                },

                boxText: { fontSize: '1rem', marginBottom: '20px', color: '#F5F5F5' },

                btnPrimary: {
                    backgroundImage: 'linear-gradient(90deg, #E63946, #B71C1C)',
                    color: '#fff',
                    padding: '14px 24px',
                    border: 'none',
                    borderRadius: '12px',
                    fontWeight: 700,
                    cursor: 'pointer',
                    width: '100%',
                    boxShadow: '0 10px 24px rgba(230,57,70,0.25)',
                    transition: 'transform 160ms ease, box-shadow 160ms ease',
                },

                fullSection: { padding: '16px 0' },
                fullWrap: { minHeight: 'calc(100vh - 84px)' },
                fullCard: {
                    borderRadius: '28px',
                    background: 'rgba(44,44,44,0.95)',
                    border: '1px solid rgba(255,255,255,0.1)',
                    backdropFilter: 'blur(10px)',
                    WebkitBackdropFilter: 'blur(10px)',
                    padding: '24px',
                    minHeight: '100%',
                    color: '#F5F5F5',
                },


                /* Ø§Ù„Ø´Ø§Øª (Ø¨Ø¯ÙˆÙ† Ø­ÙØ¸) */
               chatMessagesFull: {
                            flex: 1,
                            overflowY: 'auto',
                            background: 'rgba(44,44,44,0.65)',          // Ø±Ù…Ø§Ø¯ÙŠ Ø¯Ø§ÙƒÙ† Ø´ÙØ§Ù
                            border: '1px solid rgba(255,255,255,0.10)', // Ø­Ø¯ Ø®ÙÙŠÙ
                            borderRadius: '16px',
                            padding: '16px',
                            display: 'flex',
                            flexDirection: 'column',
                            gap: '12px',
                            color: '#F5F5F5'
                            },
                            chatMessage: {
                            padding: '10px 14px',
                            borderRadius: '12px',
                            maxWidth: '85%',
                            wordWrap: 'break-word'
                            },
                            chatMessageUser: {
                            background: '#B71C1C',  // Ø£Ø­Ù…Ø± ØºØ§Ù…Ù‚ Ù„Ø±Ø³Ø§Ø¦Ù„ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…
                            color: '#fff',
                            alignSelf: 'flex-end',
                            textAlign: 'right'
                            },
                            chatMessageBot: {
                             alignSelf: 'flex-start',
                                background: '#2B2B2B',
                                color: '#F5F5F5',
                                padding: '12px 16px',
                                borderRadius: '14px',
                                maxWidth: '90%',
                                lineHeight: 1.6,
                                fontSize: '15px',
                                whiteSpace: 'pre-wrap', // ÙŠØ­Ø§ÙØ¸ Ø¹Ù„Ù‰ Ø§Ù„Ù…Ø³Ø§ÙØ§Øª
                                wordBreak: 'break-word',
                                boxShadow: '0 2px 8px rgba(0,0,0,0.2)',
                            },
                            chatMessageError: {
                            background: '#7F1D1D',  // Ø£Ø­Ù…Ø± Ø®Ø·Ø£ Ø¯Ø§ÙƒÙ†
                            color: '#FFE5E5',
                            alignSelf: 'center',
                            textAlign: 'center',
                            fontSize: '.9rem'
                            },
                            chatInputWrapper: {
                            display: 'flex',
                            gap: '10px',
                            alignItems: 'flex-end',
                            marginTop: '12px'
                            },
                            chatInput: {
                            flex: 1,
                            padding: '12px 14px',
                            border: '1px solid rgba(255,255,255,0.10)',
                            borderRadius: '12px',
                            fontSize: '.95rem',
                            fontFamily: 'inherit',
                            background: '#1F1F1F',     // Ø­Ù‚Ù„ Ø¥Ø¯Ø®Ø§Ù„ Ø±Ù…Ø§Ø¯ÙŠ Ø¯Ø§ÙƒÙ†
                            color: '#F5F5F5',
                            resize: 'none',
                            minHeight: '44px'
                            },
                            btnSend: {
                            width: '44px',
                            height: '44px',
                            borderRadius: '12px',
                            border: 'none',
                            backgroundImage: 'linear-gradient(90deg, #E63946, #B71C1C)', // Ù†ÙØ³ Ø²Ø±Ù‘ Ø§Ù„Ù…ÙˆÙ‚Ø¹ (Ø£Ø­Ù…Ø± Ù…ØªØ¯Ø±Ù‘Ø¬)
                            color: '#fff',
                            display: 'flex',
                            alignItems: 'center',
                            justifyContent: 'center',
                            boxShadow: '0 10px 24px rgba(230,57,70,0.25)',
                            cursor: 'pointer',
                            transition: 'transform 160ms ease, box-shadow 160ms ease'
                            },
                            sendIcon: { fontSize: '1.2rem' },
                            loadingDots: { display: 'flex', gap: '4px' },
                            loadingDot: {
                            width: '6px',
                            height: '6px',
                            borderRadius: '50%',
                            background: '#fff',
                            animation: 'bounce 1.4s infinite ease-in-out both',
                            animationDelay: '-0.32s'
                            },
                footer: {
                        backgroundColor: '#2C2C2C',
                        borderTop: '1px solid rgba(255,255,255,0.1)',
                        color: '#F5F5F5',
                        padding: '24px 0',
                        textAlign: 'center',
                        marginTop: '40px',
                        },

                        footerContainer: {
                        maxWidth: '1000px',
                        margin: '0 auto',
                        padding: '0 16px',
                        },

                        footerTitle: {
                        fontSize: '1.3rem',
                        fontWeight: 700,
                        color: '#E63946',
                        marginBottom: '16px',
                        },

                        footerRow: {
                        display: 'flex',
                        justifyContent: 'center',
                        alignItems: 'center',
                        gap: '40px',
                        flexWrap: 'wrap',
                        },

                        footerMember: {
                        display: 'flex',
                        flexDirection: 'column',
                        alignItems: 'center',
                        gap: '6px',
                        },

                        footerName: {
                        fontWeight: 600,
                        color: '#F5F5F5',
                        },

                        footerLink: {
                        color: '#E63946',
                        textDecoration: 'none',
                        fontWeight: 500,
                        transition: 'color 0.2s ease',
                        },

                };

      // Keyframes
      (function(){
        const s=document.createElement('style');
        s.textContent=`
          @keyframes bounce { 0%,80%,100%{transform:scale(0)} 40%{transform:scale(1)} }
        `;
        document.head.appendChild(s);
      })();

      const root = ReactDOM.createRoot(document.getElementById('root'));
      root.render(<App />);
    </script>
  </body>
</html>
